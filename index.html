<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="South Jerusalem Watch" />
    <title>South Jerusalem Watch</title>

    <style>
      body {
        font-family: system-ui, sans-serif;
        margin: 0;
        padding: 0;
        line-height: 1.5;
        direction: ltr;
        text-align: left;
        background-color: #f5f5f5;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 1rem;
      }

      h1,
      h2 {
        margin-top: 1rem;
      }

      .card {
        background: #ffffff;
        border-radius: 12px;
        padding: 1rem;
        margin-bottom: 1.5rem;
        border: 1px solid #ddd;
      }

      iframe {
        width: 100%;
        border: none;
        border-radius: 12px;
      }

      #map-frame {
        height: 600px;
      }

      #form-frame {
        height: 500px;
      }

      /* RTL adjustments */
      html[dir="rtl"] body {
        direction: rtl;
        text-align: right;
      }

      html[dir="rtl"] .container {
        padding-left: 1rem;
        padding-right: 1rem;
      }

      html[dir="rtl"] .card {
        text-align: right;
      }

      /* Language toggle button */
      #lang-toggle {
        margin: 1rem 0;
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background: #0f172a;
        color: white;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <main class="container">
      <h1 data-i18n="title">South Jerusalem Watch</h1>

      <!-- Language toggle -->
      <button id="lang-toggle" data-i18n="toggle">עברית / English</button>

      <!-- Google Form iframe -->
      <div class="card">
        <h2 data-i18n="formHeading">Report an incident</h2>
        <iframe
          id="form-frame"
          src="https://docs.google.com/forms/d/e/1FAIpQLSdXEYB3aVM8UUtkrnIdSF6xs2jmmYz9v2zqvz366n5f9U8nqQ/viewform?embedded=true"
          title="Report an incident"
        >
        </iframe>
      </div>

      <!-- Google Map iframe -->
      <div class="card">
        <h2 data-i18n="mapHeading">Explore the map</h2>
        <iframe
          id="map-frame"
          src="https://www.google.com/maps/d/u/0/embed?mid=1lU5wC1eUf-2G_CqscFUypTQIDBxRxr0&ehbc=2E312F&hl=en"
          title="Incident map"
        >
        </iframe>
      </div>

      <div id="about-section" class="card">
        <h2 data-i18n="about">About</h2>
        <p data-i18n="desc">
          This is a website dedicated to keeping kids safe on the streets
        </p>
      </div>
    </main>

    <script>
      const toggleBtn = document.getElementById("lang-toggle");
      const htmlEl = document.documentElement;
      const mapFrame = document.getElementById("map-frame");

      // URLs for your forms/maps
      const urls = {
        map: {
          en: "https://www.google.com/maps/d/u/0/embed?mid=1lU5wC1eUf-2G_CqscFUypTQIDBxRxr0&ehbc=2E312F&noprof=1&hl=en",
          he: "https://www.google.com/maps/d/u/0/embed?mid=1lU5wC1eUf-2G_CqscFUypTQIDBxRxr0&ehbc=2E312F&noprof=1&hl=he",
        },
      };

      // Text translations
      const translations = {
        en: {
          title: "South Jerusalem Watch",
          toggle: "עברית / English",
          formHeading: "Report an incident",
          mapHeading: "Explore the map",
          about: "About",
          desc: "This is a website dedicated to keeping kids safe on the streets",
        },
        he: {
          title: "משמר דרום ירושלים",
          toggle: "English / עברית",
          formHeading: "דווח על תקרית",
          mapHeading: "מפה",
          about: "אודות",
          desc: "זה אתר שמוקדש לשמירה על ילדינו ברחוב",
        },
      };

      let currentLang = "en";

      function updateText(lang) {
        document.querySelectorAll("[data-i18n]").forEach((el) => {
          const key = el.getAttribute("data-i18n");
          if (translations[lang] && translations[lang][key]) {
            el.textContent = translations[lang][key];
          }
        });
      }

      toggleBtn.addEventListener("click", () => {
        if (currentLang === "en") {
          htmlEl.setAttribute("dir", "rtl");
          htmlEl.setAttribute("lang", "he");
          mapFrame.src = urls.map.he;
          currentLang = "he";
        } else {
          htmlEl.setAttribute("dir", "ltr");
          htmlEl.setAttribute("lang", "en");
          mapFrame.src = urls.map.en;
          currentLang = "en";
        }

        updateText(currentLang);
      });
    </script>
  </body>
</html>
